(this.$WP=this.$WP||[]).push(["b49gxf",(e,t)=>{var r,i,n,a,s,l,o,u,c,d,h,f,g,m,b,p,v,y,S={__key:0x7032b49fb193,id:"7032b49fb19339f3",loc:{},definitions:[]},P={__key:0xcb88bfbd34a,id:"0cb88bfbd34a84f7",loc:{},definitions:[]},L={__key:0x72cd9d336c8b,id:"72cd9d336c8b909e",loc:{},definitions:[]},x={__key:0x89ecf5da3f36,id:"89ecf5da3f362ceb",loc:{},definitions:[]};function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I({children:e,forceNew:t=!1}){var n=l(v),a=h(),o=i(),u=s(()=>new b(a,o),[a,o]),c=!t&&n instanceof b?n:u;return r(v.Provider,{value:c,children:e})}function q(e){var t=l(v),[r,i]=u(t.get(e));return c(()=>{var r=t.subscribe(e,i),n=setTimeout(()=>{t.loadPending()},0);return()=>{clearTimeout(n),r()}},[t,e]),r}function z(...e){var[{data:t}]=d({query:x,variables:{ids:e},pause:0===e.length});return s(()=>t&&t.labels?t.labels.map(e=>e?.tagNameLocalized||null):Array(e.length).fill(null),[t,e.length])}var A=e=>s(()=>y.has(e),[e]);function w({id:e}){return q(e)}function N(e){var t=!e.request.shouldEscape,i=function(...e){var[{data:t,fetching:r}]=d({query:S,variables:{requests:e},pause:0===e.length});return s(()=>!r&&t?.text?t.text:Array(e.length).fill("..."),[e,r,t])}(e.request);return t?r("span",{dangerouslySetInnerHTML:{__html:i.join(" ")}}):null!=i?i:null}function T({id:e}){return q(`location.${String(e)}`)}function C({id:e}){return q(`tag.${String(e)}`)}function $(e){var t=n();if("id"in e)return r(w,{id:e.id});if("request"in e)return r(N,{...e});if("tagId"in e)return r(C,{id:e.tagId});if("locationId"in e)return r(T,{id:e.locationId});if("price"in e)return!0===e.iso?!0===e.isIntegerPrice?t.formatCurrencyISOInteger(e.price):t.formatCurrencyISO(e.price):!0===e.isIntegerPrice?t.formatCurrencyInteger(e.price):t.formatCurrency(e.price);if(e.date){var i=e?.format&&a(e.format)?e.format:"week_date_short";return t.formatDate(i,e.date)}return null}return e({LocalizedString:$,LocalizedStringProvider:I,LocalizedText:w,LocationName:T,Tag:C,useTagLabels:z}),[()=>{m=class{tag(e){return this.get(`tag.${String(e)}`)??null}location(e){return this.get(`location.${String(e)}`)??null}get(e){return this.map.get(e)??null}set(e,t){return(!this.has(e)||t!==this.get(e))&&(this.map.set(e,t),this.notify(e),!0)}notify(e){var t=this.subscribers.get(e);if(t){var r=this.get(e);[...t].forEach(e=>e(r))}}notifyAll(e){e.forEach(e=>this.notify(e))}subscribersForId(e){var t=this.subscribers.get(e);return t||(t=new Set,this.subscribers.set(e,t)),t}has(e){return this.map.has(e)}subscribe(e,t){var r=this.subscribersForId(e);return r.has(t)||r.add(t),this.has(e)?t(this.get(e)):this.pending.add(e),()=>{r.delete(t)}}load(e){return console.error("Attempt to use default LocalizedStringStore"),Promise.reject(Error("You need to initialize a store"))}missing(e){return e.filter(e=>!this.map.has(e))}addAll(e){var t=new Set;e.forEach(([e,r])=>{this.set(e,r??null)&&t.add(e)}),this.notifyAll([...t])}loadPending(){if(this.pending.size>0){var e=[...this.pending];this.pending.clear(),this.load(e).then(e=>this.notifyAll(e)).catch(e=>{console.error(e)})}}constructor(){_(this,"map",new Map),_(this,"nonexistent",new Set),_(this,"subscribers",new Map),_(this,"pending",new Set)}},b=class extends m{load(e){var t=this.missing(e);if(0===t.length)return Promise.resolve([]);var r=t.filter(e=>/^tag\./.test(e)).map(e=>Number(String(e.substr(4)))).filter(e=>!isNaN(e)),i=t.filter(e=>/^location\./.test(e)).map(e=>Number(String(e.substr(9)))).filter(e=>!isNaN(e)),n=t.filter(e=>/^airport\./.test(e)).map(e=>String(e.substr(8))),a=t.filter(e=>!/^(location|tag|airport)\./.test(e));return Promise.all([this.loadLocations(i),this.loadTags(r),this.loadAirports(n),this.loadKeys(a)]).then(()=>t)}loadLocations(e){return 0===e.length?Promise.resolve():this.client.query(L,{ids:e,locale:this.locale}).toPromise().then(t=>{var{data:r}=t;r&&r.Content__locations&&this.addAll(r.Content__locations.map((t,r)=>[`location.${e[r]}`,t?.detail?.info?.localizedName??null]))})}loadTags(e){return 0===e.length?Promise.resolve():this.client.query(x,{ids:e}).toPromise().then(t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map((t,r)=>[`tag.${e[r]}`,t?.tagNameLocalized??null]))})}loadAirports(e){return 0===e.length?Promise.resolve():this.client.query(P,{airportCodes:e}).toPromise().then(t=>{var{data:r}=t;r&&r.labels&&this.addAll(r.labels.map((t,r)=>[`airport.${e[r]}`,t?.locationName??null]))})}loadKeys(e){return 0===e.length?Promise.resolve():this.client.query(S,{requests:e.map(e=>({key:e}))}).toPromise().then(t=>{var{data:r}=t;r&&r.text&&this.addAll(r.text.map((t,r)=>[e[r],t??null]))})}constructor(e,t){super(),_(this,"client",void 0),_(this,"locale",void 0),this.client=e,this.locale=t}},p=f(()=>new m),v=o(p),y=g(()=>new Set(["de"])),e({LocalizedString:$,LocalizedStringProvider:I,LocalizedText:w,LocationName:T,Tag:C,useIsLongLanguage:A,useTagLabels:z})},[e=>r=e.jsx,e=>(i=e.useLocale,n=e.useIntlFormatter,a=e.isDateTimeFormat),e=>(s=e.useMemo,l=e.useContext,o=e.createContext,u=e.useState,c=e.useEffect),e=>(d=e.useQuery,h=e.useClient),e=>(f=e.unsafeSingleton,g=e.readOnly)]]},["21h32l","7thqz4","o4yt4q","mqwhqn","5vmpsm"]]);
